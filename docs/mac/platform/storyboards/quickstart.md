---
title: Раскадровки в Xamarin. Mac — Быстрое начало
description: В этом документе приведены краткие сведения о создании пользовательских интерфейсов macOS с помощью раскадровок в Xamarin. Mac. Здесь описывается создание перехода и создание окна параметров.
ms.prod: xamarin
ms.assetid: 20719B5D-8147-4E8A-A23C-8D575C7ACCEE
ms.technology: xamarin-mac
author: davidortinau
ms.author: daortin
ms.date: 05/02/2017
ms.openlocfilehash: 39e8e63c7612df95123e1e32edbfb3a8c28ffe37
ms.sourcegitcommit: 513feb0e07558766e3de4a898e53d56b27c20559
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2021
ms.locfileid: "98697713"
---
# <a name="storyboards-in-xamarinmac--quick-start"></a>Раскадровки в Xamarin. Mac — Быстрое начало

В качестве краткого знакомства с использованием раскадровок для определения пользовательского интерфейса приложения Xamarin. Mac начнем новый проект Xamarin. Mac. Выберите приложение **Mac**  >  **приложение**  >  **Cocoa** и нажмите кнопку **Далее** :

[![Добавление нового приложения Cocoa](quickstart-images/qs01.png)](quickstart-images/qs01.png#lightbox)

Используйте **имя приложения** `MacStoryboard` и нажмите кнопку **Далее** :

[![Задание имени приложения](quickstart-images/qs02.png)](quickstart-images/qs02.png#lightbox)

Используйте **имя проекта** по умолчанию и **имя решения** , а затем нажмите кнопку **создать** :

[![Имена проекта и решения](quickstart-images/qs03.png)](quickstart-images/qs03.png#lightbox)

В **Обозреватель решений** дважды щелкните `Main.storyboard` файл, чтобы открыть его для редактирования в Interface Builder Xcode:

[![Изменение раскадровки в Xcode Interface Builder.](quickstart-images/qs04.png)](quickstart-images/qs04.png#lightbox)

Как видно выше, раскадровка по умолчанию определяет как строку меню приложения, так и ее главное окно с контроллером и представлением ИТ. Для нашего примера приложения мы будем создавать пользовательский интерфейс с основным _представлением содержимого_ на одной стороне и _представлением инспектора_ во втором.

Для этого сначала необходимо удалить контроллер представления по умолчанию и представление, поставляемое с раскадровкой, выбрав его в Interface Builder и нажав клавишу **Delete** :

[![Удаление контроллера представления по умолчанию](quickstart-images/qs05.png)](quickstart-images/qs05.png#lightbox)

Затем введите `split` в область **фильтра** , выберите контроллер представления с вертикальным разделением и перетащите его на _область конструктора_:

[![Поиск контроллера разделенного представления](quickstart-images/qs06.png)](quickstart-images/qs06.png#lightbox)

Обратите внимание, что контроллер автоматически включал два дочерних контроллера представления (и связанные с ними представления), которые просматриваются с левой и правой сторон разделенного представления. Чтобы связать представление с разделением с родительским окном, нажмите клавишу **CTRL** , щелкните контроллер окна (синий кружок в кадре контроллера окна) и перетащите линию в контроллер разделенного представления. В всплывающем **окне выберите содержимое окна** :

[![Настройка представления содержимого Windows](quickstart-images/qs07.png)](quickstart-images/qs07.png#lightbox)

Это позволит связать два элемента интерфейса вместе с помощью перехода:

[![Перехода между окном и содержимым](quickstart-images/qs08.png)](quickstart-images/qs08.png#lightbox)

Необходимо разместить текстовое представление в левой части разделенного представления и автоматически заполнять доступную область при изменении размера окна или разделенного представления. Перетащите текстовое представление в верхний контроллер представления, присоединенный к разделенному представлению, и щелкните **закрепить** автоматическое ограничение макета (второй значок справа в нижней части область конструктора).

[![Настройка ограничений](quickstart-images/qs09.png)](quickstart-images/qs09.png#lightbox)

Здесь мы будем щелкать все четыре значка **I-образного указателя** вокруг ограничивающего прямоугольника в верхней части ограничений контекстном меню Action и нажимайте кнопку **Добавить 4 ограничения** внизу, чтобы добавить необходимые ограничения.

Если мы вернемся к Visual Studio для Mac и запустим проект, обратите внимание, что текстовое представление автоматически изменяет размер, чтобы заполнить левую часть разделенного представления по мере изменения размера окна или разбиения на части.

[![Пример выполняемого приложения с отображением текста в левой области окна.](quickstart-images/qs10.png)](quickstart-images/qs10.png#lightbox)

Так как мы будем использовать правую часть разделенного представления в качестве области инспектора, нам нужно уменьшить размер и разрешить его сворачивание. Вернитесь в Xcode и измените представление для правой части, выбрав его в область конструктора и щелкнув **Инспектор размеров**. Здесь введите **ширину** `250` :

[![Установка ширины](quickstart-images/qs11.png)](quickstart-images/qs11.png#lightbox)

Затем выберите разделенный элемент, представляющий правую сторону, задайте более высокий **приоритет** и щелкните флажок **пользователь может свернуть** .

[![Изменение приоритета удержания](quickstart-images/qs12.png)](quickstart-images/qs12.png#lightbox)

Если вернуться к Visual Studio для Mac и запустить проект сейчас, обратите внимание, что в правой части сохраняется меньшее значение размера, а размер окна изменяется.

[![Пример выполняемого приложения с отображением текста в левой области окна.](quickstart-images/qs13.png)](quickstart-images/qs13.png#lightbox)

<a name="Defining-a-Presentation-Segue"></a>

## <a name="defining-a-presentation-segue"></a>Определение презентации перехода

Мы создадим макет правой части представления с разделением, чтобы он действовал в качестве инспектора для свойств выбранного текста. Некоторые элементы управления будут перетаскиваться в нижний вид для разметки пользовательского интерфейса инспектора. Для последнего элемента управления мы хотим отобразить контекстном меню Action, позволяющий пользователю выбрать один из четырех предустановленных стилей символов.

В область конструктора будет добавлена кнопка для инспектора и контроллера представления. Мы изменим размер контроллера представления так, чтобы наши контекстном меню actionи и добавили четыре кнопки. Далее мы будем **управлять** ключами. Щелкните кнопку в представлении инспектора и перетащите к контроллеру представления, который будет представлять наш контекстном меню Action:

[![Перетаскивание для создания нового перехода в контроллере представления.](quickstart-images/qs14.png)](quickstart-images/qs14.png#lightbox)

В контекстном меню мы выберем **контекстном меню Action**: 

[![Выбор типа перехода контекстном меню Action из контроллера представления.](quickstart-images/qs15.png)](quickstart-images/qs15.png#lightbox)

Наконец, мы выберем перехода в область конструктора и настроили **Предпочитаемый ребро** **влево**. Затем перетащите линию из **представления привязки** к кнопке, к которой нужно присоединить контекстном меню Action:

[![Перетащите указатель, чтобы создать новый перехода, присоединив к кнопке представление привязки.](quickstart-images/qs16.png)](quickstart-images/qs16.png#lightbox)

Если мы вернемся к Visual Studio для Mac, запустите приложение и нажмите кнопку **None (нет** ) в инспекторе, появится контекстном меню Action:

[![Пример перехода, в котором отображается контекстном меню Action.](quickstart-images/qs17.png)](quickstart-images/qs17.png#lightbox)

<a name="Creating-App-Preferences"></a>

## <a name="creating-app-preferences"></a>Создание настроек приложения

Большинство стандартных приложений macOS предоставляют _диалоговое окно предпочтения_ , позволяющее пользователю определить несколько параметров, управляющих различными аспектами приложения, например, внешний вид или учетные записи пользователей.

Чтобы определить диалоговое окно стандартного предпочтения, сначала перетащите контроллер представления вкладок на область конструктора:

[![Чтобы изменить раскадровку в Xcode, сначала перетащите контроллер представления вкладок на область конструктора.](quickstart-images/qs18.png)](quickstart-images/qs18.png#lightbox)

Опять же, это автоматически получит два подключенных контроллера дочернего представления. Например, мы добавим метку к каждому представлению, которое будет центрироваться внутри нее:

[![Задание ограничений](quickstart-images/qs19.png)](quickstart-images/qs19.png#lightbox)

Затем нужно отобразить окно настройки, когда пользователь нажимает пункт меню **предпочтения...** . В строке меню выберите пункт меню "Параметры" **, щелкните "ключ —** щелчок" и перетащите строку в наш контроллер представления вкладок:

[![Перетаскивание для создания перехода](quickstart-images/qs20.png)](quickstart-images/qs20.png#lightbox)

Во всплывающем окне мы выберем **модальное** окно, чтобы отобразить его как модальное диалоговое окно:

[![Выбор модального типа перехода из меню Action перехода (действие).](quickstart-images/qs21.png)](quickstart-images/qs21.png#lightbox)

Если мы сохраняем изменения, вернитесь к Visual Studio для Mac, запустите приложение и выберите пункт меню **предпочтения...** в открывшемся диалоговом окне предпочтения.

[![Пример перехода, в котором отображается диалоговое окно "новые настройки".](quickstart-images/qs22.png)](quickstart-images/qs22.png#lightbox)

Вы можете заметить, что это не похоже на стандартное диалоговое окно настроек macOS приложения. Чтобы устранить эту проблему, включите два файла изображений в папку приложения Xamarin. Mac `Resources` в **Обозреватель решений** и вернитесь в Interface Builder Xcode.

Выберите контроллер представления вкладок и переключите его **стиль** на **панель инструментов**: 

[![Установка стиля панели вкладок](quickstart-images/qs23.png)](quickstart-images/qs23.png#lightbox)

Выберите каждую вкладку и присвойте ей **метку** и выберите один из изображений, чтобы его представить:

[![Настройка каждой вкладки в Xcode](quickstart-images/qs24.png)](quickstart-images/qs24.png#lightbox)

Если мы сохраняем изменения, вернитесь к Visual Studio для Mac, запустите приложение и выберите пункт меню **предпочтения...** , после чего диалоговое окно отобразится как стандартное приложение macOS:

[![Пример окна "выполняемые настройки"](quickstart-images/qs25.png)](quickstart-images/qs25.png#lightbox)

Дополнительные сведения см. в документации по [работе с изображениями](~/mac/app-fundamentals/image.md), [меню](~/mac/user-interface/menu.md), [окнами](~/mac/user-interface/window.md) и документацией по [диалоговым окнам](~/mac/user-interface/dialog.md) .

## <a name="related-links"></a>Связанные ссылки

- [Привет, Mac](~/mac/get-started/hello-mac.md)
- [Работа с Windows](~/mac/user-interface/window.md)
- [Рекомендации по созданию пользовательских интерфейсов в macOS](https://developer.apple.com/design/human-interface-guidelines/macos/overview/themes/)
- [Введение в Windows](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/WinPanel/Introduction.html#//apple_ref/doc/uid/10000031-SW1)
