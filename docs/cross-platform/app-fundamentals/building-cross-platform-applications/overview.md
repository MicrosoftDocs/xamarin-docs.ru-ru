---
title: Общие сведения о построении межплатформенных приложений
description: В этом документе представлен общий обзор создания кросс-платформенных приложений. В нем обсуждается значение C#, такие шаблоны проектирования, как MVC и MVVM, а также собственные пользовательские интерфейсы.
ms.prod: xamarin
ms.assetid: E442EEFB-FA9C-40E9-9668-5A3F915C8400
author: davidortinau
ms.author: daortin
ms.date: 03/23/2017
ms.openlocfilehash: bcd90b3ca0f45df406fd187988e14a62a1d5b55b
ms.sourcegitcommit: 4bbf54d2bc1df96af69814e2e5dae47be12e0474
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "102602363"
---
# <a name="building-cross-platform-applications-overview"></a>Общие сведения о построении межплатформенных приложений

В этом руководством сначала описывается платформа Xamarin. В нем обсуждается разработка кросс-платформенного приложения для максимального повторного использования кода. Наконец, как обеспечить высококачественный собственный интерфейс на мобильных платформах iOS и Android.

Подход, используемый в этом документе, можно использовать как для приложений для повышения производительности, так и для игровых приложений, однако основное внимание уделяется повышению производительности и служебной программы (неигровые приложения). См. [инструменты Visual Studio для Unity](/visualstudio/cross-platform/visual-studio-tools-for-unity) руководство по разработке игр на разных платформах.

Фраза «однократная запись, запуск везде» часто используется для того, чтобы превознесите в одной базе кода, которая выполняется на нескольких платформах без изменений. Хотя в нем есть преимущество повторного использования кода, этот подход имеет свои недостатки. Два общих недостатка — это приложения, которые имеют самый низкий набор функций-знаменатель, и универсальный пользовательский интерфейс, который не умещается на любой из целевых платформ.

Xamarin — это не просто однократная платформа, так как одна из своих сильных сторон — возможность реализовать собственные пользовательские интерфейсы специально для каждой платформы. Однако благодаря продуманному проектированию все равно можно предоставить общий доступ к большинству кода, не относящегося к пользовательскому интерфейсу, и получить лучшее из обоих миров. Создавайте хранилище данных и код бизнес-логики один раз и представим собственные пользовательские интерфейсы на каждой платформе. В этом документе рассматривается общий архитектурный подход к достижению этой цели.

Ниже приведен краткий обзор ключевых моментов создания кросс-платформенных приложений Xamarin.

- **Использование c#** — напишите свои приложения на c#. Существующий код, написанный на языке C#, можно легко перенести в iOS и Android с помощью Xamarin и использовать в приложениях Windows.
- **Используйте шаблоны проектирования MVC или MVVM** . Разрабатывайте пользовательский интерфейс приложения с помощью шаблона модели, представления или контроллера. Создание архитектуры приложения с помощью подхода "модель/представление/контроллер" или "модель/представление/ViewModel", где имеется четкое разделение между "моделью" и остальными элементами. Определите, какие части приложения будут использовать собственные элементы пользовательского интерфейса для каждой платформы (iOS, Android, Windows, Mac), и используйте это в качестве рекомендации для разделения приложения на два компонента: "Core" и "User-Interface".
- **Создание собственных пользовательских интерфейсов** . Каждое приложение для конкретной ОС предоставляет различные уровни пользовательского интерфейса (реализованные в C# с помощью собственных средств проектирования пользовательского интерфейса):

1. В iOS используйте API UIKit для создания собственных приложений с использованием раскадровок для слоя представления, созданного в Xcode.
1. В Android используйте Android. views для создания собственных приложений, используя преимущества конструктора пользовательского интерфейса Xamarin.
1. В Windows вы будете использовать XAML для уровня представления, созданный в Visual Studio или в конструкторе пользовательского интерфейса Blend.
1. На компьютерах Mac вы будете использовать раскадровки для слоя представления, созданного в Xcode.

Проекты Xamarin. Forms поддерживаются на всех платформах и позволяют создавать пользовательские интерфейсы, которые можно совместно использовать на разных платформах с помощью Xamarin. Forms XAML.

Объем повторного использования кода будет зависеть в большой степени от объема кода, который хранится в общем ядре, и объема кода, характерного для пользовательского интерфейса. Основной код — это все, что не взаимодействует с пользователем напрямую, но вместо этого предоставляет службы для частей приложения, которые будут собираются и отображают эти сведения.

Чтобы увеличить объем повторного использования кода, можно внедрить межплатформенные компоненты, предоставляющие общие службы для всех таких систем, как:

1. [SQLite-NET](https://www.nuget.org/packages/sqlite-net-pcl/) для ЛОКАЛЬНОГО хранилища SQL,
1. [Подключаемые модули Xamarin](https://xamarin.com/plugins) для доступа к возможностям для конкретных устройств, включая камеру, контакты и географическое расположение,
1. [Пакеты NuGet](https://nuget.org) , совместимые с проектами Xamarin, например [JSON.NET](https://www.nuget.org/packages/Newtonsoft.Json/),
1. Использование функций .NET Framework для работы с сетью, веб-службами, ВВОДом и др.

Некоторые из этих компонентов реализуются в примере использования *задач* .

 <a name="Separate_Reusable_Code_into_a_Core_Library"></a>

## <a name="separate-reusable-code-into-a-core-library"></a>Разделение повторно используемого кода в основную библиотеку

Следуя принципу разделения ответственности путем распределения архитектуры приложения и последующего перемещения основных функциональных возможностей, которые не зависят от платформы, в базовую библиотеку с возможностью повторного использования, можно максимально увеличить совместное использование кода на разных платформах, как показано ниже.

 ![Следуя принципу разделения ответственности путем распределения архитектуры приложения и последующего перемещения основных функциональных возможностей, которые не зависят от платформы, в базовую библиотеку с возможностью повторного использования, можно максимально увеличить совместное использование кода на разных платформах.](overview-images/layers2.png)

 <a name="Case_Studies"></a>

## <a name="case-studies"></a>Практические примеры

Существует один пример внедрения, сопровождающий этот документ — *Pro*. В каждом практическом примере рассматривается реализация концепций, описанных в настоящем документе, в реальном мире. Код является открытым кодом и доступен на [GitHub](https://github.com/xamarin/mobile-samples/).
