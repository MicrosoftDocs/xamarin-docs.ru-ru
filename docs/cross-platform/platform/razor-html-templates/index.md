---
title: Создание представлений HTML с помощью шаблонов Razor
description: " Использование веб-страницы в полноэкранном режиме для визуализации HTML может быть простым и эффективным способом визуализации сложного форматирования на кросс-платформенном способе, особенно если у вас уже есть HTML, JavaScript и CSS из проекта веб-сайта."
ms.prod: xamarin
ms.assetid: D8B87C4F-178E-48D9-BE43-85066C46F05C
author: davidortinau
ms.author: daortin
ms.date: 07/24/2018
ms.openlocfilehash: a74ee38e8321ed4537d5181cda37f542d6a87dc6
ms.sourcegitcommit: 4bbf54d2bc1df96af69814e2e5dae47be12e0474
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "102602844"
---
# <a name="building-html-views-using-razor-templates"></a>Создание представлений HTML с помощью шаблонов Razor

В мире разработки мобильных приложений термин "гибридное приложение" обычно относится к приложению, которое представляет некоторые (или все) его экраны в виде HTML-страниц внутри размещаемого элемента управления веб-просмотра.

Существует несколько сред разработки, которые позволяют полностью создать мобильное приложение на языке HTML и JavaScript. Однако эти приложения могут пострадать от проблем с производительностью при попытке выполнения сложных эффектов обработки или пользовательского интерфейса, а также ограничены возможностями платформы, к которым они имеют доступ.

Xamarin предлагает лучшее из обоих миров, особенно при использовании подсистемы HTML-шаблонов Razor. С помощью Xamarin вы получаете гибкие возможности создания межплатформенных шаблонных представлений HTML, использующих JavaScript и CSS, но также имеющих полный доступ к интерфейсам API базовой платформы и быстрой обработки с помощью C#.

В этом документе объясняется, как использовать подсистему шаблонов Razor для создания представлений HTML + JavaScript + CSS, которые можно использовать на мобильных платформах с помощью Xamarin.

## <a name="using-web-views-programmatically"></a>Использование веб-представлений программным способом

Перед изучением Razor в этом разделе объясняется, как использовать веб-представления для отображения содержимого HTML непосредственно — в частности, в формате HTML, созданном в приложении.

Xamarin предоставляет полный доступ к API-интерфейсам базовой платформы как для iOS, так и для Android, что позволяет легко создавать и отображать HTML с помощью C#. Ниже приведен базовый синтаксис для каждой платформы.

### <a name="ios"></a>iOS

Отображение HTML в элементе управления Уивебвиев в Xamarin. iOS также занимает всего несколько строк кода:

```csharp
var webView = new UIWebView (View.Bounds);
View.AddSubview(webView);
string contentDirectoryPath = Path.Combine (NSBundle.MainBundle.BundlePath, "Content/");
var html = "<html><h1>Hello</h1><p>World</p></html>";
webView.LoadHtmlString(html, NSBundle.MainBundle.BundleUrl);
```

Дополнительные сведения об использовании элемента управления Уивебвиев см. в статье [уивебвиевные](https://github.com/xamarin/docs-archive/tree/master/Recipes/ios/content_controls/web_view) рецепты для iOS.

### <a name="android"></a>Android

Отображение HTML в элементе управления WebView с помощью Xamarin. Android выполняется всего несколько строк кода:

```csharp
// webView is declared in an AXML layout file
var webView = FindViewById<WebView> (Resource.Id.webView);

// enable JavaScript execution in your html view so you can provide "alerts" and other js
webView.SetWebChromeClient(new WebChromeClient());

var html = "<html><h1>Hello</h1><p>World</p></html>";
webView.LoadDataWithBaseURL("file:///android_asset/", html, "text/html", "UTF-8", null);
```

Дополнительные сведения об использовании элемента управления WebView см. в статье [Android WebView](https://github.com/xamarin/docs-archive/tree/master/Recipes/android/controls/webview) рецепты.

### <a name="specifying-the-base-directory"></a>Указание базового каталога

На обеих платформах имеется параметр, указывающий базовый каталог для HTML-страницы. Это расположение в файловой системе устройства, используемое для разрешения относительных ссылок на ресурсы, такие как изображения и CSS-файлы. Например, такие теги, как

```html
<link rel="stylesheet" href="style.css" />
<img src="monkey.jpg" />
<script type="text/javascript" src="jscript.js">
```

см. следующие файлы: **Style. CSS**, **monkey.jpg** и **jscript.js**. Параметр базового каталога указывает веб-представлению, где находятся эти файлы, чтобы их можно было загрузить на страницу.

#### <a name="ios"></a>iOS

Выходные данные шаблона подготавливаются к просмотру в iOS с помощью следующего кода C#:

```csharp
webView.LoadHtmlString (page, NSBundle.MainBundle.BundleUrl);
```

Базовый каталог указывается в качестве `NSBundle.MainBundle.BundleUrl` ссылки на каталог, в котором установлено приложение. Все файлы в папке **Resources** копируются в это расположение, например файл **Style. CSS** , показанный здесь:

 ![решение Ифонехибрид](images/image1_240x163.png)

Действие сборки для всех файлов статического содержимого должно быть **BundleResource**:

 ![Действие сборки проекта iOS: BundleResource](images/image2_250x131.png)

#### <a name="android"></a>Android

Для Android также требуется, чтобы базовый каталог был передан как параметр, если строки HTML отображаются в веб-представлении.

```csharp
webView.LoadDataWithBaseURL("file:///android_asset/", page, "text/html", "UTF-8", null);
```

Специальная строка **File:///android_asset/** ссылается на папку Assets Android в приложении, показанную здесь, содержащую файл **Style. CSS** .

 ![Решение Андроидхибрид](images/image3_240x167.png)

Действие сборки для всех файлов статического содержимого должно быть **AndroidAsset**.

 ![Действие сборки проекта Android: AndroidAsset](images/image4_250x71.png)

### <a name="calling-c-from-html-and-javascript"></a>Вызов C# из HTML и JavaScript

Когда страница HTML загружается в веб-представление, она рассматривает ссылки и формы так, как если бы страница была загружена с сервера. Это означает, что если пользователь щелкнет ссылку или отправит форму, веб-представление будет пытаться перейти к указанному целевому объекту.

Если ссылка связана с внешним сервером (например, google.com), веб-представление попытается загрузить внешний веб-сайт (при условии, что имеется подключение к Интернету).

```html
<a href="http://google.com/">Google</a>
```

Если ссылка является относительным, веб-представление будет пытаться загрузить это содержимое из базового каталога. Очевидно, что для работы этой сети не требуется сетевое подключение, так как содержимое хранится в приложении на устройстве.

```html
<a href="somepage.html">Local content</a>
```

Действия форм следуют тому же правилу.

```html
<form method="get" action="http://google.com/"></form>
<form method="get" action="somepage.html"></form>
```

Вы не собираетесь размещать веб-сервер на клиенте; Тем не менее можно использовать те же методы связи сервера, которые используются в современных шаблонах разработки для вызова служб по протоколу HTTP GET и асинхронно обрабатывают ответы, вызывая JavaScript (или вызов JavaScript, уже размещенный в веб-представлении). Это позволяет легко передавать данные из HTML обратно в код C# для обработки, а затем отображать результаты обратно на HTML-странице.

Как iOS, так и Android предоставляют механизм, позволяющий коду приложения перехватывать эти события навигации, чтобы код приложения мог ответить (при необходимости). Эта функция очень важна для создания гибридных приложений, так как позволяет осуществлять взаимодействие машинного кода с веб-представлением.

#### <a name="ios"></a>iOS

Событие Шаулдстартлоад в веб-представлении в iOS можно переопределить, чтобы разрешить коду приложения обрабатывать запрос навигации (например, щелчок по ссылке). Параметры метода предоставляют всю информацию

```csharp
bool HandleShouldStartLoad (UIWebView webView, NSUrlRequest request, UIWebViewNavigationType navigationType) {
    // return true if handled in code
    // return false to let the web view follow the link
}
```

затем назначьте обработчик событий:

```csharp
webView.ShouldStartLoad += HandleShouldStartLoad;
```

#### <a name="android"></a>Android

В Android просто подкласс WebViewClient, а затем реализуйте код для реагирования на запрос навигации.

```csharp
class HybridWebViewClient : WebViewClient {
    public override bool ShouldOverrideUrlLoading (WebView webView, IWebResourceRequest request) {
        // return true if handled in code
        // return false to let the web view follow the link
    }
}
```

Затем настройте клиент в веб-представлении:

```csharp
webView.SetWebViewClient (new HybridWebViewClient ());
```

### <a name="calling-javascript-from-c"></a>Вызов JavaScript из C\#

Помимо указания веб-представления для загрузки новой страницы HTML, код C# также может запускать JavaScript в текущей отображаемой странице. Все блоки кода JavaScript можно создавать с помощью строк C# и выполнять. также можно создать вызовы методов для JavaScript, которые уже доступны на странице через `script` теги.

#### <a name="android"></a>Android

Создайте код JavaScript для выполнения, а затем добавьте в него префикс "JavaScript:" и предложите веб-просмотру загрузить эту строку:

```csharp
var js = "alert('test');";
webView.LoadUrl ("javascript:" + js);
```

#### <a name="ios"></a>iOS

веб-представления iOS предоставляют метод, специально предназначенный для вызова JavaScript:

```csharp
var js = "alert('test');";
webView.EvaluateJavascript (js);
```

### <a name="summary"></a>Итоги

В этом разделе представлены функции элементов управления веб-представления как в Android, так и в iOS, которые позволяют создавать гибридные приложения с помощью Xamarin, включая:

- Возможность загружать HTML из строк, созданных в коде,
- Возможность ссылаться на локальные файлы (CSS, JavaScript, изображения или другие HTML-файлы)
- Возможность перехвата запросов навигации в коде C#,
- Возможность вызова JavaScript из кода C#.

В следующем разделе представлено представление Razor, которое упрощает создание HTML-кода для использования в гибридных приложениях.

## <a name="what-is-razor"></a>Что такое Razor?

Razor — это подсистема шаблонов, появившаяся в ASP.NET MVC, изначально предназначенная для запуска на сервере и создания HTML-кода, который будет обслуживаться в веб браузерах.

Подсистема шаблонов Razor расширяет стандартный синтаксис HTML с помощью C#, чтобы можно было выразить макет и легко внедрять таблицы стилей CSS и JavaScript. Шаблон может ссылаться на класс модели, который может быть любым пользовательским типом, к свойствам которого можно получить доступ непосредственно из шаблона. Одним из его основных преимуществ является возможность простого сочетания синтаксиса HTML и C#.

Шаблоны Razor не ограничиваются использованием на стороне сервера, они также могут быть включены в приложения Xamarin. Использование шаблонов Razor вместе с возможностью работы с веб-представлениями программным способом позволяет создавать сложные кросс-платформенные гибридные приложения с помощью Xamarin.

### <a name="razor-template-basics"></a>Основы шаблона Razor

Файлы шаблонов Razor имеют расширение **. cshtml** . Их можно добавить в проект Xamarin из раздела текстовые шаблоны диалогового окна **Создание файла** :

 ![Новый файл — шаблон Razor](images/image5_400x201.png)

Ниже показан простой шаблон Razor ( **разорвиев. cshtml**).

```html
@model string
<html>
    <body>
    <h1>@Model</h1>
    </body>
</html>
```

Обратите внимание на следующие отличия от обычного HTML-файла:

- `@`Символ имеет особое значение в шаблонах Razor — это означает, что для вычисления следующего выражения используется выражение C#.
- `@model` всегда является первой строкой файла шаблона Razor.
- `@model`После директивы должен следовать тип. В этом примере в шаблон передается простая строка, но это может быть любой пользовательский класс.
- Когда `@Model` в шаблоне указывается ссылка, он предоставляет ссылку на объект, передаваемый в шаблон при его создании (в этом примере это будет строка).
- Интегрированная среда разработки автоматически создаст разделяемый класс для шаблонов (файлов с расширением **. cshtml** ). Вы можете просмотреть этот код, но не изменять его.
 ![Разорвиев. cshtml ](images/image6_125x34.png) разделяемый класс называется разорвиев, чтобы соответствовать имени файла шаблона. cshtml. Это имя используется для ссылки на шаблон в коде C#.
- `@using` инструкции также можно включить в начало шаблона Razor, чтобы включить дополнительные пространства имен.

Окончательные выходные данные в формате HTML можно затем создать с помощью следующего кода C#. Обратите внимание, что мы указываем модель как строка "Hello World", которая будет включена в выходные данные шаблона, подготовленного к просмотру.

```csharp
var template = new RazorView () { Model = "Hello World" };
var page = template.GenerateString ();
```

Ниже приведены выходные данные, отображаемые в веб-представлении симулятора iOS и Android Emulator.

 ![Hello World](images/image7_523x135.png)

### <a name="more-razor-syntax"></a>Дополнительный синтаксис Razor

В этом разделе представлены некоторые основные синтаксис Razor, которые помогут приступить к работе. Примеры в этом разделе заполняют следующий класс данными и отображают их с помощью Razor:

```csharp
public class Monkey {
    public string Name { get; set; }
    public DateTime Birthday { get; set; }
    public List<string> FavoriteFoods { get; set; }
}
```

Во всех примерах используется следующий код инициализации данных

```csharp
var animal = new Monkey {
    Name = "Rupert",
    Birthday=new DateTime(2011, 04, 01),
    FavoriteFoods = new List<string>
        {"Bananas", "Banana Split", "Banana Smoothie"}
};
```

#### <a name="displaying-model-properties"></a>Отображение свойств модели

Если модель является классом со свойствами, к ним легко обращаться в шаблоне Razor, как показано в следующем примере шаблона:

```html
@model Monkey
<html>
    <body>
    <h1>@Model.Name</h1>
    <p>Birthday: @(Model.Birthday.ToString("d MMMM yyyy"))</p>
    </body>
</html>
```

Его можно преобразовать в строку, используя следующий код:

```csharp
var template = new RazorView () { Model = animal };
var page = template.GenerateString ();
```

Окончательный результат показан в веб-представлении в симуляторе iOS и Android Emulator:

 ![руперт](images/image8_516x160.png)

#### <a name="c-statements"></a>Операторы C#

В шаблон можно включать более сложные C#, например обновления свойств модели и вычисление возраста в этом примере:

```html
@model Monkey
<html>
    <body>
    @{
        Model.Name = "Rupert X. Monkey";
        Model.Birthday = new DateTime(2011,3,1);
    }
    <h1>@Model.Name</h1>
    <p>Birthday: @Model.Birthday.ToString("d MMMM yyyy")</p>
    <p>Age: @(Math.Floor(DateTime.Now.Date.Subtract (Model.Birthday.Date).TotalDays/365)) years old</p>
    </body>
</html>
```

Можно написать сложные однострочные выражения C# (например, форматирование возраста), поключив код в `@()` .

Несколько инструкций C# можно записать, отключив их к `@{}` .

#### <a name="if-else-statements"></a>Операторы if-else

Ветви кода могут быть выражены с помощью `@if` , как показано в этом примере шаблона.

```html
@model Monkey
<html>
    <body>
    <h1>@Model.Name</h1>
    <p>Birthday: @(Model.Birthday.ToString("d MMMM yyyy"))</p>
    <p>Age: @(Math.Floor(DateTime.Now.Date.Subtract (Model.Birthday.Date).TotalDays/365)) years old</p>
    <p>Favorite Foods:</p>
    @if (Model.FavoriteFoods.Count == 0) {
        <p>No favorites</p>
    } else {
        <p>@Model.FavoriteFoods.Count favorites</p>
    }
    </body>
</html>
```

#### <a name="loops"></a>Циклы

`foreach`Также можно добавить конструкции циклов, например. `@`Префикс можно использовать в переменной цикла ( `@food` в данном случае) для ее отображения в HTML.

```html
@model Monkey
<html>
    <body>
    <h1>@Model.Name</h1>
    <p>Birthday: @Model.Birthday.ToString("d MMMM yyyy")</p>
    <p>Age: @(Math.Floor(DateTime.Now.Date.Subtract (Model.Birthday.Date).TotalDays/365)) years old</p>
    <p>Favorite Foods:</p>
    @if (Model.FavoriteFoods.Count == 0) {
        <p>No favorites</p>
    } else {
        <ul>
            @foreach (var food in @Model.FavoriteFoods) {
                <li>@food</li>
            }
        </ul>
    }
    </body>
</html>
```

Выходные данные указанного выше шаблона отображаются в симуляторе iOS и Android Emulator:

 ![Рупертая обезьяна X](images/image9_520x277.png)

В этом разделе описаны основные сведения об использовании шаблонов Razor для визуализации простых представлений только для чтения. В следующем разделе объясняется, как создавать более полные приложения с помощью Razor, которые могут принимать ввод пользователя и взаимодействовать между ними в представлении HTML и C#.

## <a name="using-razor-templates-with-xamarin"></a>Использование шаблонов Razor с Xamarin

В этом разделе объясняется, как использовать создание собственного гибридного приложения с помощью шаблонов решений в Visual Studio для Mac. В **файле > новое > решение** доступно три шаблона:

- **Приложение > Android > приложения Android WebView**
- **Приложение iOS > > приложения WebView**
- **Проект ASP.NET MVC**

**Новое окно решения** выглядит следующим образом для проектов iPhone и Android — описание решения в подразделах, поддерживающих подсистему создания шаблонов Razor.

 ![Создание решений для iPhone и Android](images/image13_1139x959.png)

Обратите внимание, что шаблон Razor **. cshtml** можно легко добавить в *любой* существующий проект Xamarin, но использовать эти шаблоны решения не обязательно. для проектов iOS не требуется раскадровка для использования Razor либо; просто добавьте элемент управления Уивебвиев в любое представление программно, и вы можете визуализировать шаблоны Razor целиком в коде C#.

Содержимое шаблона по умолчанию для проектов iPhone и Android показано ниже:

 ![шаблоны iPhone и Android](images/image10_428x310.png)

Шаблоны предоставляют готовую инфраструктуру приложений для загрузки шаблона Razor с объектом модели данных, обработки вводимых пользователем данных и обмена данными с пользователем через JavaScript.

Ниже перечислены важные компоненты решения.

- Статическое содержимое, например файл  **Style. CSS** .
- Файлы шаблонов Razor. cshtml, такие как  **разорвиев. cshtml** .
- Классы моделей, на которые имеются ссылки в шаблонах Razor, таких как  **ExampleModel.CS** .
- Класс, зависящий от платформы, который создает веб-представление и подготавливает к просмотру шаблон, например в  `MainActivity` Android и в  `iPhoneHybridViewController` iOS.

В следующем разделе объясняется, как работают проекты.

### <a name="static-content"></a>Статическое содержимое

Статическое содержимое включает таблицы стилей CSS, изображения, файлы JavaScript или другое содержимое, которое может быть связано с HTML-файлом, отображаемым в представлении, или ссылаться на него.

Проекты шаблонов включают в себя минимальную таблицу стилей, чтобы продемонстрировать, как включить статическое содержимое в гибридное приложение. Ссылка на таблицу стилей CSS содержится в шаблоне следующим образом:

```html
<link rel="stylesheet" href="style.css" />
```

Можно добавить любые необходимые файлы стилей и JavaScript, включая такие платформы, как JQuery.

### <a name="razor-cshtml-templates"></a>Шаблоны Razor CSHTML

Шаблон содержит файл Razor **. cshtml** с предварительно написанным кодом, помогающим обмениваться данными между HTML/JavaScript и C#. Это позволит создавать сложные гибридные приложения, которые не просто отображают данные, предназначенные только для чтения, из модели, а также принимают входные данные пользователя в HTML и передают их в код C# для обработки или хранения.

#### <a name="rendering-the-template"></a>Подготовка к просмотру шаблона

При вызове `GenerateString` для шаблона выполняется визуализация HTML, готового для отображения в веб-представлении. Если шаблон использует модель, он должен быть представлен перед отрисовкой. На этой схеме показано, как работает отрисовка — нет, чтобы статические ресурсы разрешались веб-представлением во время выполнения, используя предоставленный базовый каталог для поиска указанных файлов.

 ![Блок-схема Razor](images/image12_700x421.png)

#### <a name="calling-c-code-from-the-template"></a>Вызов кода C# из шаблона

Обмен данными между визуализированным веб-представлением, обратный вызов к C#, осуществляется путем установки URL веб-представления, а затем перехват запроса в C# для выполнения собственного запроса без перезагрузки веб-представления.

Пример можно увидеть в способе обработки кнопки Разорвиев. Кнопка имеет следующий HTML-код:

```html
<input type="button" name="UpdateLabel" value="Click" onclick="InvokeCSharpWithFormValues(this)" />
```

`InvokeCSharpWithFormValues`Функция JavaScript считывает все значения из формы HTML и задает `location.href` для веб-представления:

```javascript
location.href = "hybrid:" + elm.name + "?" + qs;
```

Это предпринимается попытка перехода по веб-представлению на URL-адрес с пользовательской схемой (например, `hybrid:`)

```
hybrid:UpdateLabel?textbox=SomeValue&UpdateLabel=Click
```

Когда собственное веб-представление обрабатывает этот запрос навигации, у нас есть возможность перехватить его. В iOS это выполняется путем обработки события Хандлешаулдстартлоад Уивебвиев. В Android мы просто подклассировать WebViewClient, используемый в форме, и переопределяем Шаулдоверридеурллоадинг.

Внутренние компоненты этих двух перехватчиков навигации по сути одинаковы.

Сначала проверьте URL-адрес, который пытается загрузить Web View, и, если он не начинается с пользовательской схемы ( `hybrid:` ), разрешите переход в нормальном режиме.

Для настраиваемой схемы URL-адресов все в URL-адресе между схемой и "?" Имя обрабатываемого метода (в данном случае "Упдателабел"). Все строки запроса будут рассматриваться как параметры для вызова метода:

```csharp
var resources = url.Substring(scheme.Length).Split('?');
var method = resources [0];
var parameters = System.Web.HttpUtility.ParseQueryString(resources[1]);
```

`UpdateLabel` в этом примере выполняется минимальное количество операций со строками в параметре TextBox (строка «C# говорит»), а затем вызывается обратно в веб-представление.

После обработки URL-адреса метод прерывает навигацию таким образом, чтобы не пытаться завершить переход к пользовательскому URL.

#### <a name="manipulating-the-template-from-c"></a>Управление шаблоном из C\#

Взаимодействие с отображаемым веб-представлением HTML из C# осуществляется путем вызова JavaScript в веб-представлении. В iOS это делается путем вызова `EvaluateJavascript` в уивебвиев:

```csharp
webView.EvaluateJavascript (js);
```

В Android можно вызвать JavaScript в веб-представлении, загрузив JavaScript в качестве URL-адреса, используя `"javascript:"` схему URL-адресов:

```csharp
webView.LoadUrl ("javascript:" + js);
```

## <a name="making-an-app-truly-hybrid"></a>Как сделать приложение действительно гибридным

Эти шаблоны не используют собственные элементы управления на каждой платформе — весь экран заполняется одним веб-представлением.

HTML-код может быть полезен для создания прототипов и отображения тех вещей, которые лучше использовать в Интернете, таких как форматированный текст и макет с откликом. Однако не все задачи подходят для HTML и JavaScript — прокрутка по длинным спискам данных, например, позволяет лучше использовать собственные элементы управления пользовательского интерфейса (например, Уитаблевиев в iOS или ListView в Android).

Веб-представления в шаблоне можно легко дополнить элементами управления для конкретных платформ — просто измените **файл mainstoryboard. Storyboard** с помощью Xcode на компьютере Mac или **ресурсов/макета/Main. axml** на Android.

### <a name="razortodo-sample"></a>Пример Разортодо

Репозиторий [разортодо](https://github.com/xamarin/mobile-samples/tree/master/RazorTodo) содержит два отдельных решения для демонстрации различий между полностью управляемым приложением HTML и приложением, объединяющим HTML с собственными элементами управления:

- **Разортодо** — полностью управляемое HTML приложение, использующее шаблоны Razor.
- **Разорнативетодо** — использует собственные элементы управления "представление списка" для iOS и Android, но отображает экран редактирования с помощью HTML и Razor.

Эти приложения Xamarin работают как в iOS, так и в Android, используя переносимые библиотеки классов (PCL) для совместного использования общего кода, такого как классы базы данных и модели. Шаблоны Razor **. cshtml** также могут быть ДОБАВЛЕНЫ в PCL, чтобы их можно было легко совместно использовать на разных платформах.

Оба примера приложения включают в себя API совместного использования Twitter и преобразования текста в речь с собственной платформы, что демонстрирует, что гибридные приложения с Xamarin по-прежнему имеют доступ ко всем базовым функциям представлений, управляемых шаблоном HTML Razor.

Приложение **разортодо** использует шаблоны HTML Razor для представления списка и редактирования. Это означает, что мы можем полностью создать приложение в общей переносимой библиотеке классов (включая шаблоны Razor базы данных и **. cshtml** ). На снимках экрана ниже показаны приложения iOS и Android.

 ![разортодо](images/Both_700x290.png)

Приложение **разорнативетодо** использует шаблон HTML Razor для представления редактирования, но реализует собственный список прокрутки на каждой платформе. Это предоставляет ряд преимуществ, в том числе:

- Производительность. элементы управления "машинная прокрутка" используют виртуализацию для обеспечения быстрой и плавной прокрутки даже с очень длинными списками данных.
- Собственный интерфейс. элементы пользовательского интерфейса, зависящие от платформы, легко включить, такие как поддержка индексов с быстрой прокруткой в iOS и Android.

Основное преимущество создания гибридных приложений с помощью Xamarin заключается в том, что можно начать с полностью управляемого HTML-интерфейса (как и в первом примере), а затем добавить функциональность, зависящую от платформы, при необходимости (во втором примере показано). Ниже показаны экраны со встроенным списком и экраны редактирования Razor HTML на устройствах iOS и Android.

 ![разорнативетодо](images/BothNative_700x290.png)

## <a name="summary"></a>Итоги

В этой статье описаны возможности элементов управления веб-представления, доступных в iOS и Android, которые упрощают создание гибридных приложений.

Затем мы рассмотрели подсистему шаблонов Razor и синтаксис, который можно использовать для простого создания HTML в приложениях Xamarin с помощью. **CSHTML** Файлы шаблонов Razor. Здесь также описаны шаблоны решений Visual Studio для Mac, которые позволяют быстро приступить к созданию гибридных приложений с помощью Xamarin.

Наконец, в нем появились примеры Разортодо, демонстрирующие способы объединения веб-представлений с собственными пользовательскими интерфейсами и интерфейсами API.

### <a name="related-links"></a>Связанные ссылки

- [Пример Разортодо](https://github.com/xamarin/mobile-samples/tree/master/RazorTodo)
- [MVC 3 — подсистема просмотра Razor (Майкрософт)](https://www.asp.net/mvc/videos/mvc-3/mvc-3-razor-view-engine)
- [Введение в веб-программирование ASP.NET с использованием синтаксиса Razor (Майкрософт)](https://www.asp.net/web-pages/tutorials/basics/2-introduction-to-asp-net-web-programming-using-the-razor-syntax)
