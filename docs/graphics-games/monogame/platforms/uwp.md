---
title: Создание проекта UWP с универсальной платформой
description: С помощью односторонней игры можно создавать игры и приложения для универсальная платформа Windows, предназначенных для нескольких устройств с одной базой кода и одним набором содержимого.
ms.prod: xamarin
ms.assetid: C6B99E44-00C1-4139-A1B7-FCFBE8749AB1
author: conceptdev
ms.author: crdun
ms.date: 03/28/2017
ms.openlocfilehash: 5d970c596d403c7d55ccc23bb5e9ba7e5fbd623a
ms.sourcegitcommit: 00e6a61eb82ad5b0dd323d48d483a74bedd814f2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2020
ms.locfileid: "91431971"
---
# <a name="creating-a-monogame-uwp-project"></a>Создание проекта UWP с универсальной платформой

_С помощью односторонней игры можно создавать игры и приложения для универсальная платформа Windows, предназначенных для нескольких устройств с одной базой кода и одним набором содержимого._

В этом пошаговом руководстве рассматривается создание проекта с универсальная платформа Windowsами (UWP) и загрузка содержимого. Приложения UWP могут работать на всех устройствах Windows 10, включая настольные ПК, планшеты, телефоны Windows и Xbox One.

В этом пошаговом руководстве создается пустой проект, который отображает *Васильковый синий* фон (традиционный цвет фона приложений XNA).

## <a name="requirements"></a>Требования

Разработка приложений универсальной платформы Windows требует:

- Операционная система Windows 10
- Любая версия Visual Studio 2017
- Средства разработчика Windows 10
- Настройка устройства в режим разработчика
- [3.7.1 для Visual Studio](http://community.monogame.net/t/monogame-3-7-1-release/11173) или более поздней версии

Дополнительные сведения см. на этой [странице в разделе Настройка для разработки Windows 10 UWP](/windows/uwp/get-started/get-set-up).

Xbox One Games можно разрабатывать на розничном устройстве Xbox One. На компьютере, на котором разрабатывается компьютер и Xbox One, требуется дополнительное программное обеспечение. Сведения о настройке Xbox One для разработки игр см. на этой странице, посвященной [настройке Xbox One](/windows/uwp/xbox-apps/).

## <a name="creating-an-empty-template"></a>Создание пустого шаблона

После установки всех необходимых ресурсов и включения режима разработчика на компьютере с Windows 10 можно создать новый проект с одним проектом с помощью Visual Studio, выполнив следующие действия.

1. Выберите **Файл** > **Создать** > **Проект**.
1. Выберите категорию **установленные**  >  **шаблоны**  >  **Visual C#**  >  Категория "**Неигровое** ":

    ![Категория категории «в игре»](uwp-images/image1.png)

1. Выберите параметр " **универсальный проект Windows 10 для игр** ":

    ![Выберите параметр "универсальный проект Windows 10 для всех игр"](uwp-images/image2.png)

1. Введите имя нового проекта и нажмите кнопку **ОК**.
Если после нажатия кнопки ОК в Visual Studio отображаются ошибки, убедитесь, что установлены средства Windows 10 и что устройство находится в режиме разработчика.

Когда Visual Studio завершит создание шаблона, можно запустить его, чтобы увидеть, как выполняется пустой проект:

![Когда Visual Studio завершит создание шаблона, запустите его, чтобы увидеть, как выполняется пустой проект.](uwp-images/image3.png)

Числа в углах предоставляют диагностические сведения. Эти сведения можно удалить, удалив код в `App.xaml.cs` `DEBUG` блоке в `OnLaunched` методе:

```csharp
protected override void OnLaunched(LaunchActivatedEventArgs e)
{
#if DEBUG
    if (System.Diagnostics.Debugger.IsAttached)
    {
        this.DebugSettings.EnableFrameRateCounter = true;
    }
#endif
    ...
```

## <a name="running-on-xbox-one"></a>Запуск на Xbox One

Проекты UWP можно развертывать на любом устройстве Windows 10 из одного проекта. После настройки компьютера с Windows 10 для разработки и Xbox One можно развернуть приложения UWP, переключив целевой сервер на удаленный компьютер и введя IP-адрес Xbox One:

![Приложения UWP можно развернуть, переключив целевой объект на удаленный компьютер и введя IP-адрес Xbox.](uwp-images/remote.png)

На Xbox One Белая граница представляет незащищенную область для телевизоров. Дополнительные сведения см. в [разделе "защищенная область](#safe-area-on-xbox-one)".

![На Xbox One Белая граница представляет незащищенную область для телевизоров.](uwp-images/safearea.png)

### <a name="safe-area-on-xbox-one"></a>Надежная область на Xbox One

Для разработки игр для консолей необходимо учитывать безопасность области, которая является областью в центре экрана, которая должна содержать все критические визуальные элементы (например, Пользовательский интерфейс или HUD). Область за пределами защищенной области не гарантируется на всех телевизорах, поэтому визуальные элементы, размещенные в этой области, могут быть частично или полностью невидимыми для некоторых экранов.

Шаблон «чисто игра» для Xbox считает зону безопасности и отображает ее как белую границу. Эта область также отражается во время выполнения в `Window.ClientBounds` свойстве игры, как показано на этом рисунке окна Контрольные значения в Visual Studio. Обратите внимание, что высота границ клиента равна 1016, несмотря на разрешение экрана 1920 x 1080:

![Обратите внимание, что высота границ клиента равна 1016, несмотря на разрешение экрана 1920 x 1080.](uwp-images/clientbounds.png)

## <a name="referencing-content-in-uwp-projects"></a>Ссылка на содержимое в проектах UWP

На содержимое проектов с проектами можно ссылаться непосредственно из файла или с помощью [конвейера содержимого для игр](https://github.com/xamarin/docs-archive/blob/master/Docs/CocosSharp/content-pipeline/introduction.md). Небольшие игровые проекты могут воспользоваться преимуществами простоты загрузки из файла. Более крупные проекты повышают эффективность использования конвейера содержимого для оптимизации содержимого для уменьшения размера и времени загрузки. В отличие от XNA на Xbox 360, `System.IO.File` класс доступен на платформе Xbox с одними приложениями UWP.

Дополнительные сведения о загрузке содержимого с помощью конвейера содержимого см. в статье о [конвейере содержимого](https://github.com/xamarin/docs-archive/blob/master/Docs/CocosSharp/content-pipeline/introduction.md).

### <a name="loading-content-from-file"></a>Загрузка содержимого из файла

В отличие от iOS и Android, проекты UWP могут ссылаться на файлы, относящиеся к исполняемому файлу. Простые игры могут использовать этот прием содержимого, не требуя изменения и сборки проекта конвейера содержимого.

Загрузка `Texture2D` из файла:

1. Добавьте PNG-файл в папку Content в проекте UWP. Добавление содержимого в папку содержимого — это соглашение в XNA и в игре.
1. Щелкните правой кнопкой мыши недавно добавленный PNG-объект и выберите пункт Свойства.
1. Измените значение **Копировать в выходной каталог** , чтобы **скопировать его более поздней версии**.
1. Добавьте следующий код в метод инициализации игры, чтобы загрузить `Texture2D` :

    ```csharp
    Texture2D texture;
    using (var stream = System.IO.File.OpenRead("Content/YourPngName.png"))
    {
        texture = Texture2D.FromStream(graphics.GraphicsDevice, stream);
    }
    ```

Дополнительные сведения об использовании см `Texture2D` . в статье [Введение в в игру](~/graphics-games/monogame/introduction/index.md).

## <a name="summary"></a>Сводка

В этом руководстве описано, как создать новый проект UWP и учитывать особенности, связанные с UWP при загрузке файлов. Разработчики, заинтересованные в создании полнофункциональных игр UWP, могут ознакомиться с дополнительными сведениями о полной игре в статье Общие сведения об ограниченном [развертывании](~/graphics-games/monogame/introduction/index.md).