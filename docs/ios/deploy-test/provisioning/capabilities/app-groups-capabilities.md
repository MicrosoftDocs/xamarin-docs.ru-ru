---
title: Возможности групп приложений в Xamarin.iOS
description: Добавление возможностей в приложения часто требует дополнительной подготовки. Это руководство рассказывает о настройке, необходимой для использования возможностей групп приложений.
ms.prod: xamarin
ms.assetid: 0A61220B-BBAC-492B-9D3B-578986E64064
ms.technology: xamarin-ios
author: davidortinau
ms.author: daortin
ms.date: 03/15/2017
ms.openlocfilehash: 3f4da85a02f4e5ae303363998858395238273813
ms.sourcegitcommit: e27e29c14b783263e063baaa65d4eecb8dd31f57
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/21/2021
ms.locfileid: "98628960"
---
# <a name="app-group-capabilities-in-xamarinios"></a>Возможности групп приложений в Xamarin.iOS

_Добавление возможностей в приложения часто требует дополнительной подготовки. В этом руководстве объясняется, как выполнить настройку, необходимую для использования возможностей групп приложений._

Группы приложений предоставляют различным приложениям (или одному приложению и его расширениям) общее место хранения файлов. Группы приложений можно использовать для следующих данных:

* [Параметры Apple Watch](~/ios/watchos/app-fundamentals/settings.md)
* [Общие параметры NSUserDefaults](~/ios/app-fundamentals/user-defaults.md)
* [Общие файлы](~/ios/watchos/app-fundamentals/parent-app.md#files)

## <a name="configure-a-new-app-group"></a>Настройка новой группы приложений

Общедоступное расположение настраивается с помощью [группы приложений](https://developer.apple.com/library/content/documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/EnablingAppSandbox.html#//apple_ref/doc/uid/TP40011195-CH4-SW19), которая, в свою очередь, настраивается в разделе **Certificates, Identifiers & Profiles** (Сертификаты, идентификаторы и профили) в [центре Apple Developer](https://developer.apple.com/account/). Это значение также должно быть указано в файле Entitlements.plist для каждого проекта.

Группа приложений получает идентификатор, который обычно представляет собой идентификатор набора  c префиксом "group.". Например, идентификатор пакета `com.xamarin.WatchSettings` относится к группе приложений `group.com.xamarin.WatchSettings`.

Чтобы создать группу приложений, сделайте следующее:

1. Зайдите в [центр разработчика iOS](https://developer.apple.com/account/), откройте свою **учетную запись** и выполните вход.
2. Выберите **Certificates, IDs & Profiles** (Сертификаты, идентификаторы и профили).
3. В разделе **Identifiers** (Идентификаторы) выберите **App Groups** (Группы приложений) и нажмите кнопку **+** , чтобы создать новую группу.
4. Введите **имя** и **идентификатор** новой группы и нажмите кнопку **Continue** (Продолжить): 
   
    ![Добавление сведений о группе приложений](app-groups-capabilities-images/image52.png)

5. Нажмите кнопку **Register** (Зарегистрировать), чтобы создать группу, а затем щелкните **Done** (Готово), чтобы вернуться к списку зарегистрированных групп приложений.

## <a name="configure-an-app-to-use-app-groups"></a>Настройка приложения для использования групп приложений

После создания группы настройте идентификаторы приложений, чтобы приложения могли ее использовать.

Выполните следующие действия:

1. Зайдите в [центр разработчика iOS](https://developer.apple.com/account/) и войдите с учетной записью Apple Developer.
2. В меню **Program Resources** (Ресурсы программы) выберите **Certificates, IDs & Profiles** (Сертификаты, идентификаторы и профили).
3. В разделе **Identifiers** (Идентификаторы) выберите **App IDs** (Идентификаторы приложений) и нажмите кнопку **+** , чтобы создать новый идентификатор.
4. Введите имя для идентификатора приложения и присвойте ему явный идентификатор.
5. В разделе **App Services** (Службы приложений) активируйте **App Groups** (Группы приложений) и нажмите кнопку Continue (Продолжить):

    ![Добавление служб приложений группы приложений](app-groups-capabilities-images/image53.png)

6. Проверьте параметры и нажмите кнопку **Register** (Зарегистрировать), чтобы создать идентификатор приложения.
7. Нажмите кнопку **Done** (Готово), чтобы вернуться к списку зарегистрированных идентификаторов приложений.
8. Выберите в списке только что созданный идентификатор приложения и нажмите кнопку **Edit** (Изменить):

    ![Выбор идентификатора приложения из списка и нажатие кнопки Edit (Изменить).](app-groups-capabilities-images/image54.png)

9. В службе **App Group** (Группы приложений) нажмите кнопку **Edit** (Изменить):

    ![Экран выбора идентификатора приложения и нажатие кнопки Edit (Изменить).](app-groups-capabilities-images/image55.png)

10. Выберите созданную ранее группу приложений и нажмите кнопку **Continue** (Продолжить):

    ![Добавление группы приложений](app-groups-capabilities-images/image56.png)

11. Нажмите кнопку **Assign** (Назначить), а затем кнопку **Done** (Готово), чтобы вернуться к списку зарегистрированных идентификаторов приложений.
12. Повторите эти шаги для всех приложений (или расширений), которые будут использовать эту группу приложений.

## <a name="next-steps"></a>Следующие шаги

Ниже перечислены дополнительные действия, которые необходимо выполнить:

* Используйте в приложении пространство имен платформы.
* Добавьте необходимые назначения к вашему приложению. Подробные сведения о необходимых назначениях и об их добавлении см. в руководстве [Работа с назначениями](~/ios/deploy-test/provisioning/entitlements.md).
* Убедитесь, что в **Подписывании пакета iOS** приложения параметр **Настраиваемые назначения** установлен в **Entitlements.plist**. Эта настройка _не устанавливается_ по умолчанию для сборок отладки и симулятора iOS.

Если вы столкнулись с проблемами при работе со службами приложений, обратитесь к разделу [Устранение неполадок](~/ios/deploy-test/provisioning/capabilities/index.md) основного руководства.
