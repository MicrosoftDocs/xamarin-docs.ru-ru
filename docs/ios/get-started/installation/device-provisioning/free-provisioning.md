---
title: Бесплатная подготовка для приложений Xamarin.iOS
description: Этот документ описывает, как разработчики Xamarin.iOS могут тестировать свои приложения на физическом устройстве без участия в платной программе для разработчиков компании Apple.
ms.prod: xamarin
ms.assetid: A5CE2ECF-8057-49ED-8393-EB0C5977FE4C
ms.technology: xamarin-ios
author: davidortinau
ms.author: daortin
ms.date: 07/16/2018
ms.openlocfilehash: 8bb67b11543fedb628298d6dc467ebdca9da17c8
ms.sourcegitcommit: d1980b2251999224e71c1289e4b4097595b7e261
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2020
ms.locfileid: "92928546"
---
# <a name="free-provisioning-for-xamarinios-apps"></a>Бесплатная подготовка для приложений Xamarin.iOS

Бесплатная подготовка позволяет разработчикам Xamarin.iOS развертывать и тестировать свои приложения на устройствах iOS, **не участвуя** в **программе для разработчиков Apple**.
Хотя тестирование на симуляторе является важным и удобным, также очень важно проверять приложения на физических устройствах iOS, чтобы убедиться, что они правильно работают в условиях ограничений по объему оперативной памяти, размеру хранилища и скорости подключения.

Чтобы развернуть приложение на устройстве с помощью бесплатной подготовки, выполните следующие действия:

- С помощью Xcode создайте *удостоверение подписывания* (сертификат разработчика и закрытый ключ) и *профиль подготовки* (содержащий явный идентификатор приложения и идентификатор UDID подключенного устройства iOS).
- Используйте удостоверение подписывания и профиль подготовки, созданные с помощью Xcode, в Visual Studio для Mac или Visual Studio 2019 для развертывания приложения Xamarin.iOS.

> [!IMPORTANT]
> [Автоматическая подготовка](~/ios/get-started/installation/device-provisioning/automatic-provisioning.md) позволяет Visual Studio для Mac или Visual Studio 2019 автоматически настроить устройство для тестирования. Однако автоматическая подготовка несовместима с бесплатной подготовкой. Чтобы использовать автоматическую подготовку, необходима платная учетная запись программы для разработчиков Apple.

## <a name="requirements"></a>Требования

Чтобы развернуть приложение Xamarin.iOS на устройстве с помощью бесплатной подготовки, необходимо выполнить следующие требования:

- Используемый идентификатор Apple не должен быть связан с программой для разработчиков Apple.
- В вашем приложении должен использоваться явный идентификатор приложения Xamarin.iOS, а не шаблон идентификатора приложения.
- Идентификатор пакета, используемый в приложении Xamarin.iOS, должен быть уникальным. Этот идентификатор не должен использоваться ранее в другом приложении. Идентификатор пакета, применяемый для бесплатной подготовки, **не может** использоваться повторно.
- Если приложение уже распространяется, оно не может быть развернуто с помощью бесплатной подготовки.
- Если в приложении используются службы приложений, необходимо создать профиль подготовки, как описано в руководстве по [подготовке устройства](~/ios/get-started/installation/device-provisioning/index.md#provisioning-for-application-services).

Дополнительные сведения об ограничениях, связанных с бесплатной подготовкой, см. в разделе [Ограничения](#limitations). Дополнительные сведения о распространении приложений iOS см. в разделе [Руководство по распространению приложений](~/ios/deploy-test/app-distribution/index.md).

## <a name="testing-on-device-with-free-provisioning"></a>Тестирование на устройстве с использованием бесплатной подготовки

Чтобы протестировать приложение Xamarin.iOS с использованием бесплатной подготовки, выполните следующие действия.

### <a name="use-xcode-to-create-a-signing-identity-and-provisioning-profile"></a>Создание удостоверения подписывания и профиля подготовки в Xcode

1. Если у вас нет идентификатора Apple, [создайте его](https://appleid.apple.com).
2. Откройте Xcode и перейдите в раздел **Xcode > Параметры**.
3. На вкладке **Accounts** (Учетные записи) нажмите кнопку  **+** , чтобы добавить существующий идентификатор Apple, как показано на снимке экрана ниже.

    ![Предпочтения Xcode, вкладка "Учетные записи"](free-provisioning-images/launchapp1.png "Предпочтения Xcode, вкладка "Учетные записи"")

4. Закройте параметры Xcode.
5. Подключите устройство iOS, на котором вы хотите развернуть приложение.
6. В Xcode создайте новый проект. Выберите **Файл > Создать > Проект** , а затем выберите **Приложение с одним представлением**.
7. В диалоговом окне создания проекта в поле **Команда** укажите идентификатор Apple, который вы только что добавили. Этот параметр в раскрывающемся списке должен выглядеть так: **Ваше имя (личная команда)** :

    ![Создание приложения](free-provisioning-images/launchapp2.png "Создание нового приложения")

8. После создания проекта выберите схему сборки Xcode для вашего устройства iOS (а не симулятор).

    ![Выбор схемы сборки Xcode](free-provisioning-images/xcodescheme.png "Выбор схемы сборки Xcode")

9. Откройте параметры проекта приложения, щелкнув узел верхнего уровня этого приложения в **Навигаторе проекта** Xcode.
10. В разделе **Общие параметры > Удостоверение** убедитесь, что значение параметра **Идентификатор пакета** _точно соответствует_ идентификатору пакета вашего приложения Xamarin.iOS. Этот идентификатор можно найти в файле Info.plist.

    ![Указание идентификатора пакета](free-provisioning-images/launchapp5.png "Указание идентификатора пакета")

    > [!IMPORTANT]
    > Xcode создаст профиль подготовки только для явного идентификатора приложения. Этот идентификатор приложения должен быть идентичен идентификатору приложения Xamarin.iOS.
    > Если эти идентификаторы различаются, вы не сможете использовать бесплатную подготовку для развертывания приложения Xamarin.iOS.

11. В разделе **Сведения о развертывании** убедитесь, что версия целевого объекта развертывания не ниже версии iOS на подключенном устройстве iOS.
12. В разделе **Подписывание** установите флажок **Управлять подписыванием автоматически** и выберите свою команду в раскрывающемся списке:

    ![Автоматическое управление подписыванием](free-provisioning-images/launchapp6.png "Автоматическое управление подписыванием")

    Xcode автоматически создаст профиль подготовки и удостоверение подписывания. Их можно просмотреть, щелкнув значок информации рядом с профилем подготовки:

    ![Просмотр профиля подготовки](free-provisioning-images/launchapp7.png "Просмотр профиля подготовки")

    > [!TIP]
    > Если при попытке создать профиль подготовки в Xcode возникает сбой, убедитесь, что в текущей схеме сборки Xcode в качестве целевого объекта выбрано подключенное устройство iOS, а не симулятор.

13. Для тестирования в Xcode разверните пустое приложение на устройстве, нажав кнопку запуска.

### <a name="deploy-your-xamarinios-app"></a>Развертывание приложения Xamarin.iOS

# <a name="visual-studio-for-mac"></a>[Visual Studio для Mac](#tab/macos)

1. Подключите устройство iOS к узлу сборки Mac через USB или [беспроводное соединение](~/ios/deploy-test/wireless-deployment.md).
2. В Visual Studio для Mac на **Панели решения** дважды щелкните файл **Info.plist**.
3. В разделе **Подписывание** выберите **Ручная подготовка**.
4. Щелкните **Подписывание пакета iOS...** .
5. Для параметра **Конфигурация** установите значение **Отладка**.
6. Для параметра **Платформа** установите значение **iPhone**.
7. Выберите **Удостоверение подписывания** , созданное с помощью Xcode.
8. Выберите **Профиль подготовки** , созданный с помощью Xcode.

    ![Указание удостоверения подписывания и профиля подготовки](free-provisioning-images/launchapp8.png "Указание удостоверения подписывания и профиля подготовки")

    > [!TIP]
    > Если вы не видите необходимое удостоверение подписывания или нужный профиль подготовки, может потребоваться перезапустить Visual Studio для Mac.

9. Нажмите кнопку **OK** , чтобы сохранить параметры и закрыть окно **Параметры проекта**.
10. Выберите устройство iOS и запустите приложение.

# <a name="visual-studio"></a>[Visual Studio](#tab/windows)

1. Убедитесь, что среда Visual Studio 2019 или Visual Studio 2017 [связана с узлом сборки Mac](~/ios/get-started/installation/windows/connecting-to-mac/index.md).
2. Подключите устройство iOS к узлу сборки Mac через USB или [беспроводное соединение](~/ios/deploy-test/wireless-deployment.md).
3. В **обозревателе решений** Visual Studio 2019 или Visual Studio 2017 щелкните проект Xamarin.iOS правой кнопкой мыши и выберите **Свойства**.
4. Перейдите на вкладку **Подписывание пакета iOS**.
5. Для параметра **Конфигурация** установите значение **Отладка**.
6. Для параметра **Платформа** установите значение **iPhone**.
7. Выберите **Ручная подготовка**.
8. Выберите **Удостоверение подписывания** , созданное с помощью Xcode.
9. Выберите **Профиль подготовки** , созданный с помощью Xcode.

    ![Указание удостоверения подписывания и профиля подготовки](free-provisioning-images/setprofile-w157.png "Указание удостоверения подписывания и профиля подготовки")

    > [!TIP]
    > Среда Xcode создала удостоверение подписывания и профиль подготовки и сохранила их на узле сборки Mac. Они будут доступны в Visual Studio 2019 или Visual Studio 2017, так как эта среда [связана](~/ios/get-started/installation/windows/connecting-to-mac/index.md) с узлом сборки Mac. Если они отсутствуют в списке, может потребоваться перезапустить Visual Studio 2019 или Visual Studio 2017.

10. Сохраните параметры проекта и закройте окно параметров.
11. Выберите устройство iOS и запустите приложение.

-----

## <a name="limitations"></a>Ограничения

Компания Apple налагает ряд ограничений на то, когда и как можно использовать бесплатную подготовку для запуска приложений на устройстве iOS. Эти ограничения призваны обеспечить возможность развертывания только на *вашем* устройстве:

- Доступ к iTunes Connect ограничен, поэтому такие услуги, как публикация в App Store и TestFlight, недоступны разработчикам, подготавливающим приложения бесплатно. Для распространения посредством Ad Hoc и In-House требуется учетная запись разработчика Apple (корпоративная или личная).
- Срок действия профилей подготовки, созданных с использованием бесплатной подготовки, составляет одну неделю, а срок действия таких удостоверений подписывания — один год.
- Так как Xcode создает профили подготовки только для явных идентификаторов приложений, необходимо выполнить [приведенные выше инструкции](#testing-on-device-with-free-provisioning) для каждого приложения, которое вы хотите установить.
- Бесплатная подготовка не может использоваться для большинства служб приложений. К ним относятся Apple Pay, Game Center, iCloud, покупки из приложений, Push-уведомления и Wallet. Полный список возможностей приведен в руководстве [Поддерживаемые возможности (iOS)](https://help.apple.com/developer-account/#/dev21218dfd6). Чтобы подготовить приложение для использования со службами приложений, обратитесь к руководствам по [работе с возможностями](~/ios/deploy-test/provisioning/capabilities/index.md).

## <a name="summary"></a>Сводка

В этом руководстве были рассмотрены преимущества и ограничения использования бесплатной подготовки для установки приложений на устройстве iOS. В нем было представлено пошаговое руководство, которое показывает, как установить приложение Xamarin.iOS с использованием бесплатной подготовки.

## <a name="related-links"></a>Связанные ссылки

- [Подготовка устройств](~/ios/get-started/installation/device-provisioning/index.md)
- [Подготовка служб приложений](~/ios/get-started/installation/device-provisioning/index.md#provisioning-for-application-services)
