---
title: Работа с контроллерами разделенного представления tvOS в Xamarin
description: В этом документе описывается работа с представлениями tvOS Split в приложении, созданном с помощью Xamarin. Он предоставляет общий обзор контроллеров разделенного представления, способов их использования с раскадровками, доступа к главным и подробным представлениям, а также для отображения и скрытия главного представления.
ms.prod: xamarin
ms.assetid: 21248CFB-5A94-4C19-B223-C72E0DC5F1D5
ms.technology: xamarin-ios
author: davidortinau
ms.author: daortin
ms.date: 03/16/2017
ms.openlocfilehash: cc7b61d4a02bf2b0dc64e7ebc3501a45832f5fa3
ms.sourcegitcommit: 4bbf54d2bc1df96af69814e2e5dae47be12e0474
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2021
ms.locfileid: "102603091"
---
# <a name="working-with-tvos-split-view-controllers-in-xamarin"></a>Работа с контроллерами разделенного представления tvOS в Xamarin
> [!WARNING]
> Конструктор iOS устарел в Visual Studio 2019 версии 16,8 и Visual Studio 2019 для Mac версии 8,8 и удален в Visual Studio 2019 версии 16,9 и Visual Studio для Mac версии 8,9.
> Рекомендуемый способ создания пользовательских интерфейсов iOS — непосредственно на компьютере Mac с Interface Builder. Дополнительные сведения см. в разделе [Разработка пользовательских интерфейсов с помощью Xcode](~/ios/user-interface/storyboards/index.md). 

Контроллер с разделенными представлениями позволяет параллельно управлять главным и подробным контроллером представлений на экране. Контроллеры с разделением представлений используются для представления постоянного, изменяемого содержимого в главном представлении (меньший раздел слева) и связанных сведений в подробном представлении (увеличенный раздел справа).

[![Пример разделенного представления](split-views-images/intro01.png)](split-views-images/intro01.png#lightbox)

<a name="About-Split-View-Controllers"></a>

## <a name="about-split-view-controllers"></a>Сведения об контроллерах разделенного представления

Как упоминалось выше, контроллер с разделенным представлением управляет главным и подробным контроллером представления, которые представлены рядом друг с другом, а в левой части — в более крупном представлении. 

Кроме того, контроллер главного представления может быть скрыт или показан по мере необходимости: 

[![Контроллер главного представления скрыт](split-views-images/intro02.png)](split-views-images/intro02.png#lightbox)

Контроллеры с разделенными представлениями часто используются для представления списка фильтруемого содержимого с категориями в главном представлении и отфильтрованными результатами в подробном представлении. Обычно это представление представлено в виде таблицы слева, а также в [представлении коллекции](~/ios/tvos/user-interface/collection-views.md) справа.

При проектировании пользовательского интерфейса, который требует наличия контроллера разделенного представления, компания Apple предлагает использовать контроллеры представлений "основной" и "подробности", которые не изменяются (только изменения содержимого, а не структуры). Если требуется переключить контроллеры представлений, лучше использовать контроллер навигации в качестве основы контроллера представления, который необходимо изменить («основной» или «подробности»).

У Apple есть следующие рекомендации по работе с контроллерами разделенного представления:

- **Используйте правильный процент разбиения** — по умолчанию контроллер разделенного представления использует третью экран для контроллера главного представления и две трети для контроллера подробного представления. При необходимости можно использовать разбиение 50/50. Выберите правильный процент, чтобы содержимое было сбалансировано на экране.
- **Сохранить основной выбор** . в то время как содержимое в подробном представлении может измениться в ответ на выбор пользователя в главном представлении, содержимое главного представления должно быть исправлено. Кроме того, необходимо четко показать текущий выбранный элемент в главном представлении.
- **Используйте один объединенный заголовок** — обычно в подробном представлении вместо заголовка в представлении «Подробности» и «главное» необходимо использовать один, центрированный заголовок.

<a name="Split-View-Controllers-and-Storyboards"></a>

## <a name="split-view-controllers-and-storyboards"></a>Контроллеры разделенного представления и раскадровки

Самый простой способ работы с контроллерами разделенного представления в приложении Xamarin. tvOS — добавить их в пользовательский интерфейс приложения с помощью конструктора iOS.

# <a name="visual-studio-for-mac"></a>[Visual Studio для Mac](#tab/macos)

1. В **панель решения** дважды щелкните `Main.storyboard` файл и откройте его для редактирования.
1. Перетащите **контроллеры разделенного представления** из **панели элементов** в представление: 

    [![Контроллер разделенного представления](split-views-images/activity01.png)](split-views-images/activity01.png#lightbox)
1. По умолчанию конструктор iOS установит контроллер навигации и контроллер представления в главном представлении. Если это не соответствует требованиям приложения, просто удалите их.
1. При удалении главного представления по умолчанию перетащите новый контроллер представления в область конструктора: 

    [![Контроллер представления](split-views-images/activity02.png)](split-views-images/activity02.png#lightbox)
1. Control-Click и перетащите из контроллера разделенного представления в новый контроллер главного представления. 
1. В **контекстном меню** выберите пункт **Главная** : 

    [![В контекстном меню выберите пункт Главная.](split-views-images/activity03.png)](split-views-images/activity03.png#lightbox)
1. Создайте содержимое представлений «основной» и «подробности»: 

    [![Пример макета](split-views-images/activity04.png)](split-views-images/activity04.png#lightbox)
1. Назначьте **имена** на **вкладке мини** -приложение **панель свойств** для работы с элементами управления пользовательского интерфейса в коде C#.
1. Сохраните изменения и вернитесь в Visual Studio для Mac.

# <a name="visual-studio"></a>[Visual Studio](#tab/windows)

1. В **Обозреватель решений** дважды щелкните `Main.storyboard` файл и откройте его для редактирования.
1. Перетащите **контроллеры разделенного представления** из **панели элементов** в представление: 

    [![Контроллер разделенного представления](split-views-images/activity01-vs.png)](split-views-images/activity01-vs.png#lightbox)
1. По умолчанию конструктор iOS добавит контроллер навигации и контроллер представления в главное представление. Если это не соответствует требованиям приложения, просто удалите их.
1. При удалении главного представления по умолчанию перетащите новый контроллер представления в область конструктора: 

    [![Контроллер представления](split-views-images/activity02-vs.png)](split-views-images/activity02-vs.png#lightbox)
1. Control-Click и перетащите из контроллера разделенного представления в новый контроллер главного представления. 
1. В **контекстном меню** выберите пункт **Главная** : 

    [![В контекстном меню выберите пункт Главная.](split-views-images/activity03-vs.png)](split-views-images/activity03-vs.png#lightbox)
1. Создайте содержимое представлений «основной» и «подробности»: 

    [![Макет содержимого](split-views-images/activity04.png)](split-views-images/activity04.png#lightbox)
1. Назначьте **имена** на **вкладке мини** -приложение **обозревателя свойств** , чтобы работать с элементами управления пользовательского интерфейса в коде C#.
1. Сохраните изменения.

-----

Дополнительные сведения о работе с раскадровками см. в статье [Hello, tvOS краткое руководство по началу работы](~/ios/tvos/get-started/hello-tvos.md).

<a name="Working-with-Split-View-Controllers"></a>

## <a name="working-with-split-view-controllers"></a>Работа с контроллерами разделенного представления

Как упоминалось выше, контроллер разделенного представления часто используется в ситуациях, когда пользователю отображается Отфильтрованное содержимое. Основные категории отображаются слева в главном представлении, а отфильтрованные результаты — справа в подробном представлении в зависимости от выбора пользователя.

<a name="Accessing-Master-and-Detail"></a>

### <a name="accessing-master-and-detail"></a>Доступ к базе данных master и Details

Если требуется программный доступ к основным контроллерам представлений и представлениям сведений, используйте `ViewControllers` свойство контроллера разделенного представления. Пример:

```csharp
// Gain access to master and detail view controllers
var masterController = ViewControllers [0] as MasterViewController;
var detailController = ViewControllers [1] as DetailViewController;
```

Он представляется в виде массива, где первый элемент (0) в контроллере главного представления и второй элемент (1) являются подробными.

<a name="Accessing-Detail-from-Master"></a>

### <a name="accessing-detail-from-master"></a>Доступ к сведениям из главного окна

Так как вы обычно отображаете подробную информацию в подробном представлении в зависимости от выбора пользователя в главной базе данных, вам потребуется способ получить доступ к сведениям из главного окна.

Самый простой способ сделать это — предоставить свойство для класса контроллера главного представления, например:

```csharp
public DetailViewController DetailController { get; set;}
```

В контроллере разделенного представления Переопределите `ViewDidLoad` метод и свяжите два представления вместе. Пример:

```csharp
public override void ViewDidLoad ()
{
    base.ViewDidLoad ();

    // Gain access to master and detail view controllers
    var masterController = ViewControllers [0] as MasterViewController;
    var detailController = ViewControllers [1] as DetailViewController;

    // Wire-up views
    masterController.SplitViewController = this;
    masterController.DetailController = detailController;
    detailController.SplitViewController = this;
}
```

Вы можете предоставлять свойства и методы на контроллере подробного представления, который может использоваться главным образом для представления новых данных в соответствии с требованиями.

<a name="Showing-and-Hiding-Master"></a>

### <a name="showing-and-hiding-master"></a>Отображение и скрытие образца

При необходимости можно показать или скрыть контроллер главного представления с помощью `PreferredDisplayMode` Свойства контроллера разделенного представления. Пример:

```csharp
// Show hide split view
if (SplitViewController.DisplayMode == UISplitViewControllerDisplayMode.PrimaryHidden) {
    SplitViewController.PreferredDisplayMode = UISplitViewControllerDisplayMode.AllVisible;
} else {
    SplitViewController.PreferredDisplayMode = UISplitViewControllerDisplayMode.PrimaryHidden;
}
```

`UISplitViewControllerDisplayMode`Перечисление определяет, как будет представлен контроллер главного представления в одном из следующих элементов:

- **Функция Automatic** -tvOS будет управлять представлением главного и подробного представлений.
- **Примарихидден** — скрывает контроллер главного представления.
- **Аллвисибле** — отображает одновременно контроллеры главного и подробного представлений. Это обычная презентация по умолчанию.
- **Примарйоверлай** — контроллер подробного представления расширяется в и включается в главный.

Чтобы получить текущее состояние представления, используйте `DisplayMode` свойство контроллера разделенного представления.

<a name="Summary"></a>

## <a name="summary"></a>Итоги

В этой статье рассматривается проектирование и работа с контроллерами разделенного представления внутри приложения Xamarin. tvOS.

## <a name="related-links"></a>Связанные ссылки

- [Примеры tvOS](/samples/browse/?products=xamarin&term=Xamarin.iOS%2btvOS)
- [tvOS](https://developer.apple.com/tvos/)
- [Руководства по tvOSму интерфейсу](https://developer.apple.com/tvos/human-interface-guidelines/)
- [Руководством по программированию приложений для tvOS](https://developer.apple.com/library/prerelease/tvos/documentation/General/Conceptual/AppleTV_PG/)